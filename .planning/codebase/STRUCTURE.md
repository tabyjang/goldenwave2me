# Codebase Structure

**Analysis Date:** 2026-01-17

## Directory Layout

```
goldenwave-marketing/
├── .github/              # GitHub workflows
│   └── workflows/        # CI/CD actions
├── .planning/            # GSD planning docs
│   └── codebase/        # This documentation
├── .storybook/          # Storybook config
├── content/             # MDX blog content
│   └── blog/
│       ├── en/          # English posts
│       └── ko/          # Korean posts
├── docs/                # Project documentation
├── e2e/                 # Playwright E2E tests
├── messages/            # i18n translations
├── public/              # Static assets
├── src/                 # Source code
│   ├── app/            # Next.js App Router
│   ├── components/     # React components
│   ├── config/         # Site configuration
│   ├── features/       # Feature exports
│   ├── hooks/          # Custom React hooks
│   ├── i18n/           # Internationalization
│   ├── lib/            # Utilities & integrations
│   ├── stories/        # Storybook stories
│   ├── styles/         # CSS & style configs
│   ├── themes/         # Template themes
│   └── types/          # TypeScript types
└── supabase/           # Supabase SQL schema
```

## Directory Purposes

**src/app/**
- Purpose: Next.js App Router pages and layouts
- Contains: Route handlers, layouts, pages
- Key files: `layout.tsx`, `page.tsx`, `sitemap.ts`, `robots.ts`
- Subdirectories:
  - `(demo)/` - Template showcase routes
  - `(demo)/templates/[template]/` - Dynamic template preview
  - `[locale]/(marketing)/` - Localized marketing pages
  - `[locale]/auth/` - Authentication pages
  - `api/` - API routes
  - `themes/[scheme]/` - Color scheme preview

**src/components/**
- Purpose: All React components
- Contains: UI, sections, templates, layout, auth, 3D, animation
- Subdirectories:
  - `ui/` - Base primitives (Button, Card, Input, etc.)
  - `sections/` - Reusable page sections
  - `templates/` - 5 template variants (minimal, bold, dark, wave, onepage)
  - `layout/` - Header, Footer, Container
  - `auth/` - OAuth buttons, user button, auth guard
  - `3d/` - Three.js scene components
  - `animation/` - Motion/Framer components
  - `providers/` - React context providers

**src/themes/**
- Purpose: Theme configuration for 5 templates
- Contains: Theme configs and CSS variable generation
- Key files:
  - `index.ts` - Theme registry and helpers
  - `minimal.ts`, `bold.ts`, `dark.ts`, `wave.ts`, `onepage.ts`

**src/lib/**
- Purpose: Utilities, integrations, helpers
- Contains: Supabase clients, MDX utils, config
- Subdirectories:
  - `supabase/` - Supabase client (client, server, middleware)
  - `mdx/` - MDX processing utilities
  - `actions/` - Server actions (auth)

**src/i18n/**
- Purpose: Internationalization configuration
- Contains: Routing, navigation, request config
- Key files: `routing.ts`, `navigation.ts`, `request.ts`

**messages/**
- Purpose: Translation files
- Contains: `en.json`, `ko.json`

**content/blog/**
- Purpose: MDX blog posts
- Contains: Blog posts organized by locale
- Structure: `{locale}/{slug}.mdx`

**e2e/**
- Purpose: End-to-end tests
- Contains: Playwright test specs
- Key files: `auth.spec.ts`, `homepage.spec.ts`, `i18n.spec.ts`, `navigation.spec.ts`

## Key File Locations

**Entry Points:**
- `src/app/layout.tsx` - Root layout
- `src/app/[locale]/layout.tsx` - Locale layout
- `src/middleware.ts` - Request middleware

**Configuration:**
- `tsconfig.json` - TypeScript config
- `next.config.ts` - Next.js config
- `tailwind.config.ts` - (auto-generated by Tailwind v4)
- `playwright.config.ts` - E2E test config
- `.prettierrc` - Code formatting
- `eslint.config.mjs` - Linting rules

**Core Logic:**
- `src/themes/index.ts` - Theme system
- `src/lib/supabase/` - Auth integration
- `src/lib/mdx/` - Blog content processing
- `src/lib/site-config.ts` - Site configuration

**Testing:**
- `e2e/*.spec.ts` - E2E test files
- `src/stories/*.stories.tsx` - Storybook stories

**Documentation:**
- `README.md` - Project readme
- `docs/SUPABASE_SETUP.md` - Supabase setup guide
- `docs/TEMPLATE_TIERS.md` - Template tier docs
- `docs/COLOR-SYSTEM.md` - Color system docs

## Naming Conventions

**Files:**
- `kebab-case.tsx` for components (e.g., `hero.tsx`, `contact-form.tsx`)
- `kebab-case.ts` for utilities (e.g., `site-config.ts`, `blog-data.ts`)
- `[param]` for dynamic routes (e.g., `[locale]`, `[slug]`, `[template]`)
- `*.spec.ts` for E2E tests
- `*.stories.tsx` for Storybook

**Directories:**
- kebab-case for all directories
- Plural for collections (`components/`, `themes/`, `stories/`)
- Route groups with parentheses (`(demo)`, `(marketing)`)

**Special Patterns:**
- `index.ts` for barrel exports
- `page.tsx` for Next.js pages
- `layout.tsx` for Next.js layouts
- `route.ts` for API routes

## Where to Add New Code

**New Page:**
- Marketing page: `src/app/[locale]/(marketing)/{page}/page.tsx`
- Demo page: `src/app/(demo)/{page}/page.tsx`
- Auth page: `src/app/[locale]/auth/{page}/page.tsx`

**New Component:**
- UI primitive: `src/components/ui/{name}.tsx`
- Page section: `src/components/sections/{name}.tsx`
- Template variant: `src/components/templates/{theme}/{section}.tsx`

**New Theme:**
- Theme config: `src/themes/{name}.ts`
- Register in: `src/themes/index.ts`
- Template components: `src/components/templates/{name}/`

**New Translation:**
- Add keys to: `messages/en.json`, `messages/ko.json`

**New Blog Post:**
- Add MDX file: `content/blog/{locale}/{slug}.mdx`

## Special Directories

**.next/**
- Purpose: Next.js build output
- Source: Auto-generated by build
- Committed: No (gitignored)

**node_modules/**
- Purpose: npm dependencies
- Source: npm install
- Committed: No (gitignored)

**supabase/**
- Purpose: Supabase schema and migrations
- Source: Manual SQL definitions
- Committed: Yes
- Key files: `schema.sql`

---

*Structure analysis: 2026-01-17*
*Update when directory structure changes*
